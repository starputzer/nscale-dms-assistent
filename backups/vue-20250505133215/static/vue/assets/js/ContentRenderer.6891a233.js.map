{"version":3,"file":"ContentRenderer.6891a233.js","sources":["../../../src/components/common/ContentRenderer.vue"],"sourcesContent":["// src/components/common/ContentRenderer.vue\n<template>\n  <div class=\"content-renderer\">\n    <!-- Markdown Content with syntax highlighting -->\n    <div v-if=\"type === 'markdown'\" class=\"markdown-container\" ref=\"markdownContainer\"></div>\n    \n    <!-- Plain Text Content -->\n    <pre v-else-if=\"type === 'text'\" class=\"text-container\">{{ content }}</pre>\n    \n    <!-- HTML Content with sanitization -->\n    <div v-else-if=\"type === 'html'\" class=\"html-container\" ref=\"htmlContainer\"></div>\n    \n    <!-- JSON Formatter -->\n    <pre v-else-if=\"type === 'json'\" class=\"json-container\">{{ formattedJson }}</pre>\n    \n    <!-- Fallback for unknown content types -->\n    <div v-else class=\"fallback-container\">\n      <p>Vorschau für diesen Inhaltstyp nicht verfügbar.</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue';\nimport { marked } from 'marked';\nimport DOMPurify from 'dompurify';\n\n// Props\nconst props = defineProps({\n  content: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'text',\n    validator: (value) => ['markdown', 'text', 'html', 'json'].includes(value)\n  }\n});\n\n// DOM Refs\nconst markdownContainer = ref(null);\nconst htmlContainer = ref(null);\n\n// Format JSON if needed\nconst formattedJson = computed(() => {\n  if (props.type !== 'json' || !props.content) return props.content;\n  \n  try {\n    const jsonObj = JSON.parse(props.content);\n    return JSON.stringify(jsonObj, null, 2);\n  } catch (error) {\n    console.error('Fehler beim Formatieren des JSONs:', error);\n    return props.content;\n  }\n});\n\n// Update content when it changes\nwatch(() => props.content, updateContent, { immediate: true });\nwatch(() => props.type, updateContent);\n\n// Render content based on type\nfunction updateContent() {\n  if (!props.content) return;\n  \n  // Use setTimeout to ensure DOM is ready\n  setTimeout(() => {\n    if (props.type === 'markdown' && markdownContainer.value) {\n      try {\n        const htmlContent = marked(props.content, { \n          breaks: true,\n          gfm: true \n        });\n        // Sanitize the HTML to prevent XSS attacks\n        const sanitizedHtml = DOMPurify.sanitize(htmlContent);\n        markdownContainer.value.innerHTML = sanitizedHtml;\n      } catch (e) {\n        console.error('Markdown rendering error:', e);\n        markdownContainer.value.innerHTML = '<p>Fehler beim Rendern des Markdowns</p>';\n      }\n    } else if (props.type === 'html' && htmlContainer.value) {\n      try {\n        // Sanitize the HTML to prevent XSS attacks\n        const sanitizedHtml = DOMPurify.sanitize(props.content);\n        htmlContainer.value.innerHTML = sanitizedHtml;\n      } catch (e) {\n        console.error('HTML rendering error:', e);\n        htmlContainer.value.innerHTML = '<p>Fehler beim Rendern des HTML-Inhalts</p>';\n      }\n    }\n  }, 0);\n}\n\n// Setup initial content\nonMounted(() => {\n  updateContent();\n});\n</script>\n\n<style scoped>\n.content-renderer {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n\n.markdown-container {\n  padding: 1rem;\n}\n\n.text-container {\n  background-color: var(--nscale-gray-light, #f5f5f5);\n  padding: 1rem;\n  border-radius: 4px;\n  font-family: monospace;\n  white-space: pre-wrap;\n  overflow: auto;\n  max-height: 500px;\n}\n\n.html-container {\n  padding: 0.5rem;\n  border: 1px solid var(--nscale-gray-medium, #e0e0e0);\n  border-radius: 4px;\n  overflow: auto;\n  max-height: 500px;\n}\n\n.json-container {\n  background-color: var(--nscale-gray-light, #f5f5f5);\n  padding: 1rem;\n  border-radius: 4px;\n  font-family: monospace;\n  white-space: pre-wrap;\n  overflow: auto;\n  max-height: 500px;\n}\n\n.fallback-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 2rem;\n  text-align: center;\n  color: var(--nscale-gray-dark, #666);\n}\n\n/* Styles for markdown content */\n.markdown-container :deep(h1),\n.markdown-container :deep(h2),\n.markdown-container :deep(h3),\n.markdown-container :deep(h4),\n.markdown-container :deep(h5),\n.markdown-container :deep(h6) {\n  margin-top: 1.5em;\n  margin-bottom: 0.5em;\n  font-weight: 600;\n  line-height: 1.25;\n}\n\n.markdown-container :deep(h1) {\n  font-size: 2em;\n}\n\n.markdown-container :deep(h2) {\n  font-size: 1.5em;\n}\n\n.markdown-container :deep(h3) {\n  font-size: 1.25em;\n}\n\n.markdown-container :deep(p) {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\n\n.markdown-container :deep(a) {\n  color: var(--nscale-primary, #1a73e8);\n  text-decoration: none;\n}\n\n.markdown-container :deep(a:hover) {\n  text-decoration: underline;\n}\n\n.markdown-container :deep(code) {\n  font-family: monospace;\n  background-color: var(--nscale-gray-light, #f5f5f5);\n  padding: 0.2em 0.4em;\n  border-radius: 3px;\n}\n\n.markdown-container :deep(pre) {\n  background-color: var(--nscale-gray-light, #f5f5f5);\n  padding: 1em;\n  border-radius: 4px;\n  overflow: auto;\n}\n\n.markdown-container :deep(pre code) {\n  background-color: transparent;\n  padding: 0;\n}\n\n.markdown-container :deep(blockquote) {\n  margin: 0 0 1em;\n  padding: 0 1em;\n  color: var(--nscale-gray-dark, #666);\n  border-left: 0.25em solid var(--nscale-gray-medium, #e0e0e0);\n}\n\n.markdown-container :deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  margin-bottom: 1em;\n}\n\n.markdown-container :deep(th),\n.markdown-container :deep(td) {\n  padding: 0.5em;\n  border: 1px solid var(--nscale-gray-medium, #e0e0e0);\n}\n\n.markdown-container :deep(th) {\n  background-color: var(--nscale-gray-light, #f5f5f5);\n  font-weight: 600;\n}\n\n/* Dark mode adjustments */\n:global(.theme-dark) .text-container,\n:global(.theme-dark) .json-container {\n  background-color: #333;\n  color: #f0f0f0;\n}\n\n:global(.theme-dark) .html-container {\n  border-color: #555;\n}\n\n:global(.theme-dark) .markdown-container :deep(code),\n:global(.theme-dark) .markdown-container :deep(pre) {\n  background-color: #333;\n  color: #f0f0f0;\n}\n\n:global(.theme-dark) .markdown-container :deep(blockquote) {\n  color: #aaa;\n  border-left-color: #555;\n}\n\n:global(.theme-dark) .markdown-container :deep(th) {\n  background-color: #333;\n}\n\n:global(.theme-dark) .markdown-container :deep(th),\n:global(.theme-dark) .markdown-container :deep(td) {\n  border-color: #555;\n}\n\n:global(.theme-dark) .fallback-container {\n  color: #aaa;\n}\n\n:global(.theme-dark) .markdown-container :deep(a) {\n  color: #00c060;\n}\n\n/* High contrast mode adjustments */\n:global(.theme-contrast) .text-container,\n:global(.theme-contrast) .json-container {\n  background-color: #000;\n  color: #fff;\n  border: 2px solid #ffeb3b;\n}\n\n:global(.theme-contrast) .html-container {\n  border: 2px solid #ffeb3b;\n}\n\n:global(.theme-contrast) .markdown-container :deep(code),\n:global(.theme-contrast) .markdown-container :deep(pre) {\n  background-color: #333300;\n  color: #fff;\n  border: 1px solid #ffeb3b;\n}\n\n:global(.theme-contrast) .markdown-container :deep(blockquote) {\n  color: #fff;\n  border-left-color: #ffeb3b;\n}\n\n:global(.theme-contrast) .markdown-container :deep(th) {\n  background-color: #333300;\n  color: #ffeb3b;\n}\n\n:global(.theme-contrast) .markdown-container :deep(th),\n:global(.theme-contrast) .markdown-container :deep(td) {\n  border-color: #ffeb3b;\n}\n\n:global(.theme-contrast) .fallback-container {\n  color: #ffeb3b;\n}\n\n:global(.theme-contrast) .markdown-container :deep(a) {\n  color: #ffeb3b;\n}\n</style>"],"names":["props","__props","markdownContainer","ref","htmlContainer","formattedJson","computed","jsonObj","error","watch","updateContent","htmlContent","marked","sanitizedHtml","DOMPurify","e","onMounted"],"mappings":"udA4BA,MAAMA,EAAQC,EAaRC,EAAoBC,EAAI,IAAI,EAC5BC,EAAgBD,EAAI,IAAI,EAGxBE,EAAgBC,EAAS,IAAM,CACnC,GAAIN,EAAM,OAAS,QAAU,CAACA,EAAM,QAAS,OAAOA,EAAM,QAE1D,GAAI,CACF,MAAMO,EAAU,KAAK,MAAMP,EAAM,OAAO,EACxC,OAAO,KAAK,UAAUO,EAAS,KAAM,CAAC,CACvC,OAAQC,EAAO,CACd,eAAQ,MAAM,qCAAsCA,CAAK,EAClDR,EAAM,OACf,CACF,CAAC,EAGDS,EAAM,IAAMT,EAAM,QAASU,EAAe,CAAE,UAAW,EAAI,CAAE,EAC7DD,EAAM,IAAMT,EAAM,KAAMU,CAAa,EAGrC,SAASA,GAAgB,CAClBV,EAAM,SAGX,WAAW,IAAM,CACf,GAAIA,EAAM,OAAS,YAAcE,EAAkB,MACjD,GAAI,CACF,MAAMS,EAAcC,EAAOZ,EAAM,QAAS,CACxC,OAAQ,GACR,IAAK,EACf,CAAS,EAEKa,EAAgBC,EAAU,SAASH,CAAW,EACpDT,EAAkB,MAAM,UAAYW,CACrC,OAAQE,EAAG,CACV,QAAQ,MAAM,4BAA6BA,CAAC,EAC5Cb,EAAkB,MAAM,UAAY,0CACtC,SACSF,EAAM,OAAS,QAAUI,EAAc,MAChD,GAAI,CAEF,MAAMS,EAAgBC,EAAU,SAASd,EAAM,OAAO,EACtDI,EAAc,MAAM,UAAYS,CACjC,OAAQE,EAAG,CACV,QAAQ,MAAM,wBAAyBA,CAAC,EACxCX,EAAc,MAAM,UAAY,6CAClC,CAEH,EAAE,CAAC,CACN,CAGA,OAAAY,EAAU,IAAM,CACdN,GACF,CAAC"}