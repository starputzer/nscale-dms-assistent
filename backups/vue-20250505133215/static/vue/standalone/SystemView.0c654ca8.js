import{a as ae}from"./vue-router.214e9776.js";import{f as le,_ as J,g as h,h as y,o as ee,a as ne,w as te,b as i,c as d,e,t as c,A as S,n as A,F as Z,p as Q,q as F,v as se,x as K,M as U,j as E,y as oe,i as M,l as X,N as re,O as ie,P as W}from"./_plugin-vue_export-helper.10136e75.js";import{u as ue,a as N}from"./authStore.670a4036.js";const de=le("system",{state:()=>({stats:{document_count:0,chunk_count:0,documents:{}},converterStatus:{available:!1,converters:{},post_processing:!1,parallel_processing:!1},recentConversions:[],logs:[],loading:{stats:!1,converterStatus:!1,conversions:!1,logs:!1},error:{stats:null,converterStatus:null,conversions:null,logs:null},refreshIntervals:{stats:null,converterStatus:null},refreshInterval:3e4}),getters:{hasAdminAccess:()=>ue().isAdmin,totalDocuments:o=>o.stats.document_count||0,totalChunks:o=>o.stats.chunk_count||0,documentList:o=>{const l=o.stats.documents||{};return Object.keys(l).map(a=>({filename:a,...l[a]}))},availableConverters:o=>{const l=o.converterStatus.converters||{};return Object.keys(l).filter(a=>l[a]).map(a=>a.toUpperCase())},isConverterAvailable:o=>o.converterStatus.available||!1},actions:{async loadStats(){var o,l;if(this.hasAdminAccess){this.loading.stats=!0,this.error.stats=null;try{const a=await N.get("/api/admin/stats");this.stats=a.data.stats||{document_count:0,chunk_count:0,documents:{}}}catch(a){console.error("Fehler beim Laden der Systemstatistiken:",a),this.error.stats=((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Laden der Systemstatistiken"}finally{this.loading.stats=!1}}},async loadConverterStatus(){var o,l;if(this.hasAdminAccess){this.loading.converterStatus=!0,this.error.converterStatus=null;try{const a=await N.get("/api/admin/converter/status");this.converterStatus=a.data||{available:!1,converters:{},post_processing:!1,parallel_processing:!1}}catch(a){console.error("Fehler beim Laden des Konverterstatus:",a),this.error.converterStatus=((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Laden des Konverterstatus"}finally{this.loading.converterStatus=!1}}},async loadRecentConversions(){var o,l;if(this.hasAdminAccess){this.loading.conversions=!0,this.error.conversions=null;try{const a=await N.get("/api/admin/conversions/recent");this.recentConversions=a.data.conversions||[]}catch(a){console.error("Fehler beim Laden der Konvertierungshistorie:",a),this.error.conversions=((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Laden der Konvertierungshistorie"}finally{this.loading.conversions=!1}}},async clearLLMCache(){var o,l;if(!this.hasAdminAccess)return null;try{return(await N.post("/api/admin/clear-cache")).data}catch(a){throw console.error("Fehler beim Löschen des LLM-Cache:",a),new Error(((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Löschen des LLM-Cache")}},async clearEmbeddingCache(){var o,l;if(!this.hasAdminAccess)return null;try{return(await N.post("/api/admin/clear-embedding-cache")).data}catch(a){throw console.error("Fehler beim Löschen des Embedding-Cache:",a),new Error(((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Löschen des Embedding-Cache")}},async reloadDocuments(){var o,l;if(!this.hasAdminAccess)return null;try{const a=await N.post("/api/admin/reload-documents");return a.data.success&&await this.loadStats(),a.data}catch(a){throw console.error("Fehler beim Neuladen der Dokumente:",a),new Error(((l=(o=a.response)==null?void 0:o.data)==null?void 0:l.detail)||"Fehler beim Neuladen der Dokumente")}},startAutoRefresh(){this.hasAdminAccess&&(this.stopAutoRefresh(),this.refreshIntervals.stats=setInterval(()=>{this.loadStats()},this.refreshInterval),this.refreshIntervals.converterStatus=setInterval(()=>{this.loadConverterStatus()},this.refreshInterval))},stopAutoRefresh(){Object.keys(this.refreshIntervals).forEach(o=>{this.refreshIntervals[o]&&(clearInterval(this.refreshIntervals[o]),this.refreshIntervals[o]=null)})},setRefreshInterval(o){typeof o=="number"&&o>=5e3&&(this.refreshInterval=o,(this.refreshIntervals.stats||this.refreshIntervals.converterStatus)&&this.startAutoRefresh())},async loadAllData(){if(this.hasAdminAccess)try{await Promise.all([this.loadStats(),this.loadConverterStatus(),this.loadRecentConversions()])}catch(o){console.error("Fehler beim Laden der Systemdaten:",o)}}}});const ce={class:"system-status"},ve={class:"stats-cards"},me={class:"stat-card"},fe={class:"stat-info"},pe={class:"stat-actions"},he={class:"stat-card"},ge={class:"stat-info"},_e={class:"stat-card"},ye={class:"stat-info"},be={class:"converter-badges"},ke={class:"stat-card"},Se={class:"stat-info"},Le={key:0,class:"feature-badge active"},we={key:1,class:"feature-badge"},Ce={key:2,class:"feature-badge active"},De={key:3,class:"feature-badge"},Ae={class:"stat-actions"},$e={class:"document-section"},Ie={class:"section-header"},Fe={class:"controls"},Re={class:"search-box"},xe={class:"sort-control"},ze={key:0,class:"loading-container"},Ne={key:1,class:"error-notification"},Pe={key:2,class:"empty-state"},Ee={key:0},Me={key:1},Te={key:3,class:"documents-table-container"},Ve={class:"documents-table"},Oe={class:"filename-cell"},Be={key:0},Ke={class:"refresh-controls"},Ue={class:"refresh-toggle"},je={key:0,class:"refresh-interval"},qe=["disabled"],Ge={__name:"SystemStatus",setup(o){const l=de(),a=h(""),f=h("filename"),b=h("asc"),p=h(!1),m=h(3e4),L=h(!1),w=h(!1),k=y(()=>{let r=l.documentList;if(a.value){const t=a.value.toLowerCase();r=r.filter(v=>v.filename.toLowerCase().includes(t))}return r.sort((t,v)=>{let x=t[f.value],n=v[f.value];return["size","chunks","total_tokens"].includes(f.value)&&(x=Number(x)||0,n=Number(n)||0),b.value==="asc"?x>n?1:-1:x<n?1:-1}),r}),C=y(()=>k.value.reduce((r,t)=>r+(t.size||0),0)),P=y(()=>k.value.reduce((r,t)=>r+(t.chunks||0),0)),T=y(()=>k.value.reduce((r,t)=>r+(t.total_tokens||0),0)),R=y(()=>l.loading.stats||l.loading.converterStatus||L.value||w.value),j=()=>{b.value=b.value==="asc"?"desc":"asc"},V=r=>r==null?"-":r<1024?r+" B":r<1024*1024?(r/1024).toFixed(2)+" KB":r<1024*1024*1024?(r/(1024*1024)).toFixed(2)+" MB":(r/(1024*1024*1024)).toFixed(2)+" GB",O=r=>r==null?"-":r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),$=()=>{l.loadAllData()},q=()=>{p.value?l.startAutoRefresh():l.stopAutoRefresh()},B=()=>{l.setRefreshInterval(Number(m.value))},G=async()=>{try{L.value=!0,await l.reloadDocuments()}catch(r){console.error("Fehler beim Neuladen der Dokumente:",r)}finally{L.value=!1}},H=async()=>{try{w.value=!0,await l.clearLLMCache(),await l.clearEmbeddingCache(),await $()}catch(r){console.error("Fehler beim Löschen der Caches:",r)}finally{w.value=!1}};return ee(()=>{$()}),ne(()=>{l.stopAutoRefresh()}),te(()=>p.value,r=>{r?(l.setRefreshInterval(Number(m.value)),l.startAutoRefresh()):l.stopAutoRefresh()}),(r,t)=>(i(),d("div",ce,[e("div",ve,[e("div",me,[t[7]||(t[7]=e("div",{class:"stat-icon documents-icon"},[e("i",{class:"fas fa-file-alt"})],-1)),e("div",fe,[e("h2",null,c(S(l).totalDocuments),1),t[5]||(t[5]=e("p",null,"Dokumente",-1))]),e("div",pe,[e("button",{onClick:G,class:A(["action-btn",{loading:L.value}]),title:"Dokumente neu laden"},t[6]||(t[6]=[e("i",{class:"fas fa-sync-alt"},null,-1)]),2)])]),e("div",he,[t[9]||(t[9]=e("div",{class:"stat-icon chunks-icon"},[e("i",{class:"fas fa-puzzle-piece"})],-1)),e("div",ge,[e("h2",null,c(S(l).totalChunks),1),t[8]||(t[8]=e("p",null,"Chunks",-1))])]),e("div",_e,[t[11]||(t[11]=e("div",{class:"stat-icon converters-icon"},[e("i",{class:"fas fa-exchange-alt"})],-1)),e("div",ye,[e("h2",null,c(S(l).availableConverters.length),1),t[10]||(t[10]=e("p",null,"Konverter",-1)),e("div",be,[(i(!0),d(Z,null,Q(S(l).availableConverters,v=>(i(),d("span",{key:v,class:"converter-badge"},c(v),1))),128))])])]),e("div",ke,[t[14]||(t[14]=e("div",{class:"stat-icon cache-icon"},[e("i",{class:"fas fa-database"})],-1)),e("div",Se,[t[12]||(t[12]=e("h2",null,"Cache",-1)),e("p",null,[S(l).converterStatus.post_processing?(i(),d("span",Le,"Post-Processing")):(i(),d("span",we,"Post-Processing")),S(l).converterStatus.parallel_processing?(i(),d("span",Ce,"Parallel")):(i(),d("span",De,"Parallel"))])]),e("div",Ae,[e("button",{onClick:H,class:A(["action-btn",{loading:w.value}]),title:"Alle Caches leeren"},t[13]||(t[13]=[e("i",{class:"fas fa-trash-alt"},null,-1)]),2)])])]),e("div",$e,[e("div",Ie,[t[17]||(t[17]=e("h3",null,"Dokumente im System",-1)),e("div",Fe,[e("div",Re,[F(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=v=>a.value=v),placeholder:"Suche nach Dateinamen..."},null,512),[[se,a.value]]),t[15]||(t[15]=e("i",{class:"fas fa-search"},null,-1))]),e("div",xe,[F(e("select",{"onUpdate:modelValue":t[1]||(t[1]=v=>f.value=v)},t[16]||(t[16]=[U('<option value="filename" data-v-5d6376d8>Dateiname</option><option value="size" data-v-5d6376d8>Dateigröße</option><option value="modified" data-v-5d6376d8>Bearbeitet</option><option value="chunks" data-v-5d6376d8>Chunks</option><option value="total_tokens" data-v-5d6376d8>Tokens</option>',5)]),512),[[K,f.value]]),e("button",{onClick:j,class:"sort-btn"},[e("i",{class:A(["fas",b.value==="asc"?"fa-sort-up":"fa-sort-down"])},null,2)])])])]),S(l).loading.stats?(i(),d("div",ze,t[18]||(t[18]=[e("div",{class:"loader"},null,-1),e("span",null,"Lade Systemdaten...",-1)]))):S(l).error.stats?(i(),d("div",Ne,[t[19]||(t[19]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),e("p",null,c(S(l).error.stats),1),e("button",{onClick:t[2]||(t[2]=(...v)=>S(l).loadStats&&S(l).loadStats(...v)),class:"retry-btn"}," Erneut versuchen ")])):k.value.length===0?(i(),d("div",Pe,[t[20]||(t[20]=e("i",{class:"fas fa-file-excel"},null,-1)),a.value?(i(),d("p",Ee,'Keine Dokumente gefunden, die "'+c(a.value)+'" enthalten.',1)):(i(),d("p",Me,"Keine Dokumente vorhanden. Konvertieren Sie Dokumente, um sie hier zu sehen."))])):(i(),d("div",Te,[e("table",Ve,[t[23]||(t[23]=e("thead",null,[e("tr",null,[e("th",null,"Dateiname"),e("th",null,"Größe"),e("th",null,"Letzte Änderung"),e("th",null,"Chunks"),e("th",null,"Tokens")])],-1)),e("tbody",null,[(i(!0),d(Z,null,Q(k.value,v=>(i(),d("tr",{key:v.filename},[e("td",Oe,c(v.filename),1),e("td",null,c(V(v.size)),1),e("td",null,c(v.modified),1),e("td",null,c(v.chunks),1),e("td",null,c(O(v.total_tokens)),1)]))),128))]),k.value.length>0?(i(),d("tfoot",Be,[e("tr",null,[t[21]||(t[21]=e("td",null,[e("strong",null,"Gesamt")],-1)),e("td",null,c(V(C.value)),1),t[22]||(t[22]=e("td",null,"-",-1)),e("td",null,[e("strong",null,c(P.value),1)]),e("td",null,[e("strong",null,c(O(T.value)),1)])])])):E("",!0)])]))]),e("div",Ke,[e("div",Ue,[F(e("input",{type:"checkbox",id:"auto-refresh","onUpdate:modelValue":t[3]||(t[3]=v=>p.value=v),onChange:q},null,544),[[oe,p.value]]),t[24]||(t[24]=e("label",{for:"auto-refresh"},"Automatisch aktualisieren",-1))]),p.value?(i(),d("div",je,[t[26]||(t[26]=e("label",{for:"refresh-interval"},"Intervall (Sekunden):",-1)),F(e("select",{id:"refresh-interval","onUpdate:modelValue":t[4]||(t[4]=v=>m.value=v),onChange:B},t[25]||(t[25]=[U('<option value="5000" data-v-5d6376d8>5</option><option value="10000" data-v-5d6376d8>10</option><option value="30000" data-v-5d6376d8>30</option><option value="60000" data-v-5d6376d8>60</option><option value="300000" data-v-5d6376d8>300</option>',5)]),544),[[K,m.value]])])):E("",!0),e("button",{onClick:$,class:"refresh-btn",disabled:R.value},[e("i",{class:A(["fas","fa-sync-alt",{"fa-spin":R.value}])},null,2),t[27]||(t[27]=M(" Aktualisieren "))],8,qe)])]))}},Y=J(Ge,[["__scopeId","data-v-5d6376d8"]]);const He={class:"system-logs"},We={class:"controls-panel"},Ze={class:"log-filters"},Qe={class:"log-type-filter"},Je={class:"date-range-filter"},Xe={class:"search-box"},Ye={class:"log-actions"},et=["disabled"],tt=["disabled"],st={class:"log-display"},at={class:"log-stats"},lt={class:"log-stat"},nt={class:"log-stat"},ot={class:"log-stat"},rt={class:"log-table-container"},it={key:0,class:"loading-container"},ut={key:1,class:"empty-state"},dt={key:0},ct={key:1},vt={key:2},mt={key:2,class:"log-table"},ft=["onClick"],pt={class:"timestamp-col"},ht={class:"level-col"},gt={class:"module-col"},_t={class:"message-col"},yt={class:"log-message"},bt={key:0,class:"log-details"},kt={key:0,class:"pagination"},St=["disabled"],Lt={class:"page-info"},wt=["disabled"],Ct={__name:"SystemLogs",setup(o){const l=[{timestamp:Date.now()-3e5,level:"INFO",module:"document_store",message:"Dokumente erfolgreich geladen: 15 Dokumente, 250 Chunks",type:"application"},{timestamp:Date.now()-9e5,level:"WARNING",module:"embedding_manager",message:"Embedding-Cache veraltet, Neugenerierung empfohlen",type:"application"},{timestamp:Date.now()-18e5,level:"ERROR",module:"rag_engine",message:"Fehler bei der Verarbeitung der Anfrage: Timeout bei LLM-Anfrage",details:`Traceback (most recent call last):
  File "/opt/nscale-assist/app/modules/rag/engine.py", line 284, in _generate_response
    result = await self.ollama_client.generate(prompt)
  File "/opt/nscale-assist/app/modules/llm/model.py", line 165, in generate
    raise TimeoutError("LLM request timed out after 30 seconds")
TimeoutError: LLM request timed out after 30 seconds`,type:"error"},{timestamp:Date.now()-27e5,level:"INFO",module:"doc_converter",message:'Dokument "Richtlinie zur Datenspeicherung.docx" erfolgreich konvertiert',type:"conversion"},{timestamp:Date.now()-36e5,level:"INFO",module:"user_manager",message:'Benutzer "admin@example.com" hat sich angemeldet',type:"auth"},{timestamp:Date.now()-54e5,level:"ERROR",module:"doc_converter",message:'Fehler bei der Konvertierung von "Komplexes Dokument.pdf": Nicht unterstütztes Format',details:`Traceback (most recent call last):
  File "/opt/nscale-assist/app/doc_converter/converters/pdf_converter.py", line 98, in convert
    raise ValueError("PDF contains unsupported elements")
ValueError: PDF contains unsupported elements`,type:"conversion"},{timestamp:Date.now()-1728e5,level:"INFO",module:"server",message:"Server gestartet auf host=localhost port=8000",type:"application"},{timestamp:Date.now()-2592e5,level:"WARNING",module:"auth_manager",message:'Mehrere fehlgeschlagene Anmeldeversuche für Benutzer "test@example.com"',type:"auth"}],a=h([]),f=h("all"),b=h("24h"),p=h(""),m=h(1),L=h(10),w=h(!1),k=h(null),C=h([]),P=async()=>{w.value=!0,k.value=null;try{await new Promise(u=>setTimeout(u,1e3));const n=x(b.value),s=Date.now()-n;if(a.value=l.filter(u=>u.timestamp>=s).map(u=>({...u})),Math.random()<.05)throw new Error("Simulierter Netzwerkfehler beim Abrufen der Protokolle")}catch(n){console.error("Fehler beim Laden der Protokolle:",n),k.value=n.message,a.value=[]}finally{w.value=!1}},T=y(()=>{let n=[...a.value];if(f.value!=="all"&&(n=n.filter(g=>g.type===f.value)),p.value){const g=p.value.toLowerCase();n=n.filter(D=>D.message.toLowerCase().includes(g)||D.module.toLowerCase().includes(g)||D.level.toLowerCase().includes(g)||D.details&&D.details.toLowerCase().includes(g))}n.sort((g,D)=>D.timestamp-g.timestamp);const s=(m.value-1)*L.value,u=Math.min(s+L.value,n.length);return n.slice(s,u)}),R=y(()=>T.value.length>0),j=y(()=>{let n=a.value;return f.value!=="all"&&(n=n.filter(s=>s.type===f.value)),n.length}),V=y(()=>{let n=a.value;return f.value!=="all"&&(n=n.filter(s=>s.type===f.value)),n.filter(s=>s.level==="ERROR").length}),O=y(()=>{let n=[...a.value];if(f.value!=="all"&&(n=n.filter(s=>s.type===f.value)),p.value){const s=p.value.toLowerCase();n=n.filter(u=>u.message.toLowerCase().includes(s)||u.module.toLowerCase().includes(s)||u.level.toLowerCase().includes(s)||u.details&&u.details.toLowerCase().includes(s))}return n.length}),$=y(()=>Math.max(1,Math.ceil(O.value/L.value))),q=y(()=>{switch(b.value){case"1h":return"Letzte Stunde";case"6h":return"Letzte 6 Stunden";case"24h":return"Letzter Tag";case"7d":return"Letzte Woche";case"30d":return"Letzter Monat";default:return"Benutzerdefiniert"}}),B=()=>{m.value=1,C.value=[],P()},G=n=>{const s=C.value.indexOf(n);s>-1?C.value.splice(s,1):C.value.push(n)},H=()=>{m.value>1&&(m.value--,C.value=[])},r=()=>{m.value<$.value&&(m.value++,C.value=[])},t=()=>{let n=[...a.value];if(f.value!=="all"&&(n=n.filter(_=>_.type===f.value)),p.value){const _=p.value.toLowerCase();n=n.filter(I=>I.message.toLowerCase().includes(_)||I.module.toLowerCase().includes(_)||I.level.toLowerCase().includes(_)||I.details&&I.details.toLowerCase().includes(_))}n.sort((_,I)=>I.timestamp-_.timestamp);const u=[["Zeitstempel","Level","Modul","Nachricht","Details"].join(","),...n.map(_=>[new Date(_.timestamp).toISOString(),_.level,`"${_.module.replace(/"/g,'""')}"`,`"${_.message.replace(/"/g,'""')}"`,_.details?`"${_.details.replace(/"/g,'""').replace(/\n/g," ")}"`:""].join(","))].join(`
`),g=new Blob([u],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(g),z=document.createElement("a");z.setAttribute("href",D),z.setAttribute("download",`system-logs_${new Date().toISOString().split("T")[0]}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)},v=n=>new Date(n).toLocaleString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),x=n=>{switch(n){case"1h":return 36e5;case"6h":return 6*36e5;case"24h":return 864e5;case"7d":return 7*864e5;case"30d":return 30*864e5;default:return 864e5}};return te([f,b,p],()=>{m.value=1,(f.value!=="all"&&a.value.length===0||b.value!=="24h"&&a.value.length===0)&&P()}),ee(()=>{P()}),(n,s)=>(i(),d("div",He,[e("div",We,[e("div",Ze,[e("div",Qe,[s[4]||(s[4]=e("label",{for:"log-type"},"Protokolltyp:",-1)),F(e("select",{id:"log-type","onUpdate:modelValue":s[0]||(s[0]=u=>f.value=u)},s[3]||(s[3]=[U('<option value="all" data-v-ef5e074f>Alle Protokolle</option><option value="application" data-v-ef5e074f>Anwendung</option><option value="conversion" data-v-ef5e074f>Konvertierungen</option><option value="error" data-v-ef5e074f>Fehler</option><option value="auth" data-v-ef5e074f>Authentifizierung</option>',5)]),512),[[K,f.value]])]),e("div",Je,[s[6]||(s[6]=e("label",{for:"date-range"},"Zeitraum:",-1)),F(e("select",{id:"date-range","onUpdate:modelValue":s[1]||(s[1]=u=>b.value=u)},s[5]||(s[5]=[U('<option value="1h" data-v-ef5e074f>Letzte Stunde</option><option value="6h" data-v-ef5e074f>Letzte 6 Stunden</option><option value="24h" data-v-ef5e074f>Letzter Tag</option><option value="7d" data-v-ef5e074f>Letzte Woche</option><option value="30d" data-v-ef5e074f>Letzter Monat</option>',5)]),512),[[K,b.value]])]),e("div",Xe,[F(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=u=>p.value=u),placeholder:"Suche in Protokollen..."},null,512),[[se,p.value]]),s[7]||(s[7]=e("i",{class:"fas fa-search"},null,-1))])]),e("div",Ye,[e("button",{onClick:B,class:"refresh-btn",disabled:w.value},[e("i",{class:A(["fas","fa-sync-alt",{"fa-spin":w.value}])},null,2),s[8]||(s[8]=M(" Aktualisieren "))],8,et),e("button",{onClick:t,class:"download-btn",disabled:!R.value},s[9]||(s[9]=[e("i",{class:"fas fa-download"},null,-1),M(" Exportieren ")]),8,tt)])]),e("div",st,[e("div",at,[e("div",lt,[s[10]||(s[10]=e("i",{class:"fas fa-file-alt"},null,-1)),e("span",null,c(j.value)+" Einträge",1)]),e("div",nt,[s[11]||(s[11]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),e("span",null,c(V.value)+" Fehler",1)]),e("div",ot,[s[12]||(s[12]=e("i",{class:"fas fa-clock"},null,-1)),e("span",null,c(q.value),1)])]),e("div",rt,[w.value?(i(),d("div",it,s[13]||(s[13]=[e("div",{class:"loader"},null,-1),e("span",null,"Lade Protokolldaten...",-1)]))):R.value?(i(),d("table",mt,[s[15]||(s[15]=e("thead",null,[e("tr",null,[e("th",{class:"timestamp-col"},"Zeitstempel"),e("th",{class:"level-col"},"Level"),e("th",{class:"module-col"},"Modul"),e("th",{class:"message-col"},"Nachricht")])],-1)),e("tbody",null,[(i(!0),d(Z,null,Q(T.value,(u,g)=>(i(),d("tr",{key:g,class:A([`log-level-${u.level.toLowerCase()}`,{expanded:C.value.includes(g)}]),onClick:D=>G(g)},[e("td",pt,c(v(u.timestamp)),1),e("td",ht,[e("span",{class:A(["log-level",`log-level-${u.level.toLowerCase()}`])},c(u.level),3)]),e("td",gt,c(u.module),1),e("td",_t,[e("div",yt,c(u.message),1),u.details&&C.value.includes(g)?(i(),d("div",bt,[e("pre",null,c(u.details),1)])):E("",!0)])],10,ft))),128))])])):(i(),d("div",ut,[s[14]||(s[14]=e("i",{class:"fas fa-clipboard-list"},null,-1)),p.value?(i(),d("p",dt,'Keine Protokolle gefunden, die "'+c(p.value)+'" enthalten.',1)):k.value?(i(),d("p",ct,"Fehler beim Laden der Protokolle: "+c(k.value),1)):(i(),d("p",vt,"Keine Protokolleinträge im gewählten Zeitraum gefunden.")),k.value?(i(),d("button",{key:3,onClick:B,class:"retry-btn"}," Erneut versuchen ")):E("",!0)]))]),R.value?(i(),d("div",kt,[e("button",{onClick:H,class:"page-btn",disabled:m.value===1},s[16]||(s[16]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),8,St),e("span",Lt," Seite "+c(m.value)+" von "+c($.value),1),e("button",{onClick:r,class:"page-btn",disabled:m.value===$.value},s[17]||(s[17]=[e("i",{class:"fas fa-chevron-right"},null,-1)]),8,wt)])):E("",!0)])]))}},Dt=J(Ct,[["__scopeId","data-v-ef5e074f"]]);const At={class:"admin-sub-view"},$t={class:"tabs-container"},It={class:"tabs"},Ft={class:"tab-content"},Rt={__name:"SystemView",setup(o){const l=ae(),a=h("status"),f=y(()=>{switch(l.name||""){case"AdminSystem":return"Systemüberwachung";default:return"Administration"}}),b=y(()=>{switch(a.value){case"status":return W(Y);case"logs":return W(Dt);default:return W(Y)}});return(p,m)=>(i(),d("div",At,[e("h1",null,c(f.value),1),e("div",$t,[e("div",It,[e("button",{class:A(["tab-button",{active:a.value==="status"}]),onClick:m[0]||(m[0]=L=>a.value="status")},m[2]||(m[2]=[e("i",{class:"fas fa-tachometer-alt"},null,-1),M(" System-Status ")]),2),e("button",{class:A(["tab-button",{active:a.value==="logs"}]),onClick:m[1]||(m[1]=L=>a.value="logs")},m[3]||(m[3]=[e("i",{class:"fas fa-clipboard-list"},null,-1),M(" Protokolle ")]),2)]),e("div",Ft,[(i(),X(ie,null,[(i(),X(re(b.value)))],1024))])])]))}},xt=J(Rt,[["__scopeId","data-v-2d2bd59f"]]),Et=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"}));export{xt as S,Et as a,de as u};
//# sourceMappingURL=SystemView.0c654ca8.js.map
