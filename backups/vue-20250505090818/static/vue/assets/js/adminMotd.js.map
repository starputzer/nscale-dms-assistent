{"version":3,"file":"adminMotd.js","sources":["../../../src/standalone/admin-motd.js"],"sourcesContent":["/**\n * admin-motd.js\n * Standalone Vue-Modul für MOTD-Verwaltung im Admin-Bereich\n */\n\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia';\nimport MotdView from '../views/admin/MotdView.vue';\nimport { useMotdStore } from '../stores/motdStore';\n\n// Warte auf DOM-Bereitschaft\ndocument.addEventListener('DOMContentLoaded', () => {\n  initAdminMotd();\n});\n\n/**\n * Initialisiert die MOTD-Verwaltungsansicht\n */\nfunction initAdminMotd() {\n  console.log('Initialisiere Vue.js MOTD-Verwaltung...');\n\n  // Mount-Point für die MOTD-Verwaltung finden\n  const motdAppContainer = document.getElementById('motd-admin-app');\n  if (!motdAppContainer) {\n    console.error('Mount-Point #motd-admin-app wurde nicht gefunden');\n    return;\n  }\n\n  // Erstelle Vue-App\n  createVueApp(motdAppContainer);\n}\n\n/**\n * Findet den Mount-Point für die Vue-Komponente\n */\nfunction findMountPoint() {\n  // Zunächst nach dem Tab-spezifischen Container suchen\n  let container = document.querySelector('[data-tab=\"motd\"]');\n  \n  // Fallback auf andere mögliche Selektoren\n  if (!container) {\n    container = document.querySelector('.admin-content-motd');\n  }\n  \n  if (!container) {\n    // Suche jeden Container, der aktiv ist und \"MOTD\" enthält\n    const tabs = document.querySelectorAll('.admin-content-tab');\n    for (const tab of tabs) {\n      if (tab.style.display !== 'none' && \n          (tab.textContent.includes('MOTD') || \n           tab.getAttribute('data-tab') === 'motd')) {\n        container = tab;\n        break;\n      }\n    }\n  }\n\n  return container;\n}\n\n/**\n * Erstellt und konfiguriert die Vue-App\n */\nfunction createVueApp(container) {\n  // Erstelle Pinia-Store und Vue-App\n  const pinia = createPinia();\n  const app = createApp(MotdView);\n\n  // Plugins einbinden\n  app.use(pinia);\n\n  // App mounten\n  app.mount(container);\n\n  // Store initialisieren und Daten laden\n  const motdStore = useMotdStore();\n  motdStore.fetchMotd();\n\n  console.log('Vue.js MOTD-Verwaltung erfolgreich initialisiert');\n}\n\n// Globales Objekt für externe Zugriffe\nwindow.adminMotdApp = {\n  refresh: () => {\n    const motdStore = useMotdStore();\n    if (motdStore) {\n      motdStore.fetchMotd();\n    }\n  }\n};"],"names":["initAdminMotd","motdAppContainer","createVueApp","container","pinia","createPinia","app","createApp","MotdView","useMotdStore","motdStore"],"mappings":"qNAWA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,GACF,CAAC,EAKD,SAASA,GAAgB,CACvB,QAAQ,IAAI,yCAAyC,EAGrD,MAAMC,EAAmB,SAAS,eAAe,gBAAgB,EACjE,GAAI,CAACA,EAAkB,CACrB,QAAQ,MAAM,kDAAkD,EAChE,MACD,CAGDC,EAAaD,CAAgB,CAC/B,CAiCA,SAASC,EAAaC,EAAW,CAE/B,MAAMC,EAAQC,IACRC,EAAMC,EAAUC,CAAQ,EAG9BF,EAAI,IAAIF,CAAK,EAGbE,EAAI,MAAMH,CAAS,EAGDM,IACR,UAAS,EAEnB,QAAQ,IAAI,kDAAkD,CAChE,CAGA,OAAO,aAAe,CACpB,QAAS,IAAM,CACb,MAAMC,EAAYD,IACdC,GACFA,EAAU,UAAS,CAEtB,CACH"}