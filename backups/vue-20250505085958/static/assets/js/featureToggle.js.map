{"version":3,"file":"featureToggle.js","sources":["../../../src/components/admin/features/FeatureToggleManager.vue","../../../src/standalone/feature-toggle.js"],"sourcesContent":["// src/components/admin/features/FeatureToggleManager.vue\n<template>\n  <div class=\"feature-toggle-manager\">\n    <div class=\"flex flex-col\">\n      <!-- UI-Version -->\n      <div class=\"admin-card mb-6\">\n        <div class=\"admin-card-title\">UI-Versionen</div>\n        \n        <div class=\"mb-4\">\n          <p class=\"text-sm mb-4\">\n            Wählen Sie, welche UI-Version für die Anwendung verwendet werden soll.\n          </p>\n          \n          <div id=\"uiSelection\" class=\"bg-gray-100 p-4 rounded-lg mb-6\">\n            <div class=\"font-medium mb-2\">Aktuelle UI-Version:</div>\n            <div class=\"text-lg bg-white p-3 rounded border mb-4\">\n              <span v-if=\"featureStore.useNewUI\" class=\"text-green-600\">\n                <i class=\"fas fa-check-circle mr-2\"></i>Vue.js UI (Neue Version)\n              </span>\n              <span v-else class=\"text-blue-600\">\n                <i class=\"fas fa-info-circle mr-2\"></i>Klassische UI (Alte Version)\n              </span>\n            </div>\n            \n            <div class=\"flex gap-4\">\n              <button \n                class=\"nscale-btn-primary\" \n                @click=\"enableVueUI\"\n                :disabled=\"featureStore.useNewUI\"\n              >\n                <i class=\"fas fa-toggle-on mr-2\"></i>Vue.js-UI aktivieren\n              </button>\n              <button \n                class=\"nscale-btn-secondary\"\n                @click=\"enableClassicUI\"\n                :disabled=\"!featureStore.useNewUI\"\n              >\n                <i class=\"fas fa-toggle-off mr-2\"></i>Klassische UI aktivieren\n              </button>\n            </div>\n          </div>\n          \n          <div v-if=\"featureStore.useNewUI\" class=\"feature-toggles mb-6\">\n            <h3 class=\"text-lg font-medium mb-3\">Komponenten-Status</h3>\n            <p class=\"text-sm mb-4\">\n              Steuern Sie, welche Komponenten in der Vue.js Version angezeigt werden.\n            </p>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <!-- DocConverter Toggle -->\n              <div class=\"feature-toggle-item p-4 bg-white border rounded\">\n                <div class=\"flex items-start justify-between\">\n                  <div>\n                    <h4 class=\"font-medium\">Dokumentenkonverter</h4>\n                    <p class=\"text-sm text-gray-600 mt-1\">\n                      Neue Vue.js-Implementierung des Dokumentenkonverters\n                    </p>\n                  </div>\n                  <div class=\"toggle-switch\">\n                    <label class=\"switch\">\n                      <input \n                        type=\"checkbox\" \n                        :checked=\"featureStore.features.vueDocConverter\"\n                        @change=\"toggleFeature('vueDocConverter', $event.target.checked)\" \n                      />\n                      <span class=\"slider round\"></span>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"mt-3 text-sm\" :class=\"featureStore.features.vueDocConverter ? 'text-green-600' : 'text-gray-500'\">\n                  Status: {{ featureStore.features.vueDocConverter ? 'Aktiviert' : 'Deaktiviert' }}\n                </div>\n              </div>\n              \n              <!-- Chat Toggle -->\n              <div class=\"feature-toggle-item p-4 bg-white border rounded\">\n                <div class=\"flex items-start justify-between\">\n                  <div>\n                    <h4 class=\"font-medium\">Chat</h4>\n                    <p class=\"text-sm text-gray-600 mt-1\">\n                      Neue Vue.js-Implementierung der Chat-Oberfläche\n                    </p>\n                  </div>\n                  <div class=\"toggle-switch\">\n                    <label class=\"switch\">\n                      <input \n                        type=\"checkbox\" \n                        :checked=\"featureStore.features.vueChat\"\n                        @change=\"toggleFeature('vueChat', $event.target.checked)\" \n                      />\n                      <span class=\"slider round\"></span>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"mt-3 text-sm\" :class=\"featureStore.features.vueChat ? 'text-green-600' : 'text-gray-500'\">\n                  Status: {{ featureStore.features.vueChat ? 'Aktiviert' : 'Deaktiviert' }}\n                </div>\n              </div>\n              \n              <!-- Admin Toggle -->\n              <div class=\"feature-toggle-item p-4 bg-white border rounded\">\n                <div class=\"flex items-start justify-between\">\n                  <div>\n                    <h4 class=\"font-medium\">Admin-Panel</h4>\n                    <p class=\"text-sm text-gray-600 mt-1\">\n                      Neue Vue.js-Implementierung des Admin-Bereichs\n                    </p>\n                  </div>\n                  <div class=\"toggle-switch\">\n                    <label class=\"switch\">\n                      <input \n                        type=\"checkbox\" \n                        :checked=\"featureStore.features.vueAdmin\"\n                        @change=\"toggleFeature('vueAdmin', $event.target.checked)\" \n                      />\n                      <span class=\"slider round\"></span>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"mt-3 text-sm\" :class=\"featureStore.features.vueAdmin ? 'text-green-600' : 'text-gray-500'\">\n                  Status: {{ featureStore.features.vueAdmin ? 'Aktiviert' : 'Deaktiviert' }}\n                </div>\n              </div>\n              \n              <!-- Settings Toggle -->\n              <div class=\"feature-toggle-item p-4 bg-white border rounded\">\n                <div class=\"flex items-start justify-between\">\n                  <div>\n                    <h4 class=\"font-medium\">Einstellungen</h4>\n                    <p class=\"text-sm text-gray-600 mt-1\">\n                      Neue Vue.js-Implementierung der Einstellungen\n                    </p>\n                  </div>\n                  <div class=\"toggle-switch\">\n                    <label class=\"switch\">\n                      <input \n                        type=\"checkbox\" \n                        :checked=\"featureStore.features.vueSettings\"\n                        @change=\"toggleFeature('vueSettings', $event.target.checked)\" \n                      />\n                      <span class=\"slider round\"></span>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"mt-3 text-sm\" :class=\"featureStore.features.vueSettings ? 'text-green-600' : 'text-gray-500'\">\n                  Status: {{ featureStore.features.vueSettings ? 'Aktiviert' : 'Deaktiviert' }}\n                </div>\n              </div>\n            </div>\n            \n            <!-- Bulk-Actions -->\n            <div class=\"mt-6 flex gap-4 justify-end\">\n              <button \n                class=\"nscale-btn-primary\" \n                @click=\"enableAllFeatures\"\n              >\n                <i class=\"fas fa-check-circle mr-2\"></i>Alle aktivieren\n              </button>\n              <button \n                class=\"nscale-btn-secondary\"\n                @click=\"disableAllFeatures\"\n              >\n                <i class=\"fas fa-times-circle mr-2\"></i>Alle deaktivieren\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Dev-Modus -->\n      <div class=\"admin-card mb-6\">\n        <div class=\"admin-card-title\">Entwicklungsmodus</div>\n        \n        <div class=\"p-4\">\n          <p class=\"text-sm mb-4\">\n            Der Entwicklungsmodus aktiviert zusätzliche Debugging-Funktionen.\n          </p>\n          \n          <div class=\"flex items-center justify-between p-4 bg-white border rounded\">\n            <div>\n              <h4 class=\"font-medium\">Entwicklermodus</h4>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                Zeigt zusätzliche Debug-Informationen an\n              </p>\n            </div>\n            <div class=\"toggle-switch\">\n              <label class=\"switch\">\n                <input \n                  type=\"checkbox\" \n                  :checked=\"featureStore.devMode\" \n                  @change=\"toggleDevMode($event.target.checked)\"\n                />\n                <span class=\"slider round\"></span>\n              </label>\n            </div>\n          </div>\n          \n          <div v-if=\"featureStore.devMode\" class=\"mt-6 bg-gray-100 p-4 rounded\">\n            <h4 class=\"font-medium mb-2\">Debug-Informationen</h4>\n            <div class=\"text-sm font-mono bg-gray-800 text-white p-4 rounded overflow-auto max-h-48\">\n              <div>// Feature-Toggle-Status:</div>\n              <div>useNewUI: {{ featureStore.useNewUI }}</div>\n              <div v-for=\"(value, key) in featureStore.features\" :key=\"key\">\n                {{ key }}: {{ value }}\n              </div>\n              <div>devMode: {{ featureStore.devMode }}</div>\n              <div>// Aktive Features:</div>\n              <div>{{ featureStore.activeFeatures }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue';\nimport { useFeatureToggleStore } from '@/stores/featureToggleStore';\n\n// Store für die Feature-Toggles\nconst featureStore = useFeatureToggleStore();\n\n// Aktiviere Vue.js-UI\nconst enableVueUI = () => {\n  featureStore.toggleNewUI(true);\n};\n\n// Aktiviere klassische UI\nconst enableClassicUI = () => {\n  featureStore.toggleNewUI(false);\n};\n\n// Feature-Toggle umschalten\nconst toggleFeature = (feature, value) => {\n  featureStore.toggleFeature(feature, value);\n  \n  // Seite neu laden nach kurzer Verzögerung\n  setTimeout(() => {\n    window.location.reload();\n  }, 200);\n};\n\n// Entwicklermodus umschalten\nconst toggleDevMode = (value) => {\n  featureStore.toggleDevMode(value);\n};\n\n// Alle Features aktivieren\nconst enableAllFeatures = () => {\n  featureStore.enableAllFeatures();\n  \n  // Seite neu laden nach kurzer Verzögerung\n  setTimeout(() => {\n    window.location.reload();\n  }, 200);\n};\n\n// Alle Features deaktivieren\nconst disableAllFeatures = () => {\n  featureStore.disableAllFeatures();\n  \n  // Seite neu laden nach kurzer Verzögerung\n  setTimeout(() => {\n    window.location.reload();\n  }, 200);\n};\n\n// Bei Komponenten-Montierung\nonMounted(() => {\n  console.log('Feature-Toggle-Manager initialisiert');\n});\n</script>\n\n<style scoped>\n/* Toggle-Switch-Styling */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 26px;\n  width: 26px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: var(--nscale-primary, #00a3d9);\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px var(--nscale-primary, #00a3d9);\n}\n\ninput:checked + .slider:before {\n  transform: translateX(26px);\n}\n\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\n/* Dark Mode */\n:global(.theme-dark) .admin-card {\n  background-color: #1e1e1e;\n  border-color: #333;\n}\n\n:global(.theme-dark) .admin-card-title {\n  color: #f0f0f0;\n}\n\n:global(.theme-dark) p {\n  color: #ccc;\n}\n\n:global(.theme-dark) .bg-gray-100 {\n  background-color: #333;\n}\n\n:global(.theme-dark) .bg-white {\n  background-color: #222;\n  border-color: #444;\n}\n\n:global(.theme-dark) .text-gray-600 {\n  color: #999;\n}\n\n:global(.theme-dark) h4 {\n  color: #f0f0f0;\n}\n\n:global(.theme-dark) .nscale-btn-primary {\n  background-color: #00c060;\n}\n\n:global(.theme-dark) .nscale-btn-primary:hover {\n  background-color: #00a550;\n}\n\n:global(.theme-dark) .nscale-btn-secondary {\n  background-color: #333;\n  color: #f0f0f0;\n  border-color: #555;\n}\n\n:global(.theme-dark) .nscale-btn-secondary:hover {\n  background-color: #444;\n}\n</style>","// src/standalone/feature-toggle.js\nimport { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport FeatureToggleManager from '../components/admin/features/FeatureToggleManager.vue'\n\n// Stelle sicher, dass Stores verfügbar sind\nimport { useFeatureToggleStore } from '../stores/featureToggleStore'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Feature-Toggle-Container finden\n  const mountElement = document.getElementById('feature-toggle-container')\n  \n  if (mountElement) {\n    try {\n      console.log('Feature-Toggle-Manager wird initialisiert...')\n      \n      // App erstellen\n      const app = createApp(FeatureToggleManager)\n      \n      // Pinia Store registrieren\n      const pinia = createPinia()\n      app.use(pinia)\n      \n      // Feature-Toggle Store initialisieren\n      const featureStore = useFeatureToggleStore()\n      featureStore.initializeFeatures()\n      \n      // App mounten\n      app.mount('#feature-toggle-container')\n      \n      console.log('Feature-Toggle-Manager erfolgreich initialisiert')\n      \n      // Globales Flag setzen\n      window.vueFeatureToggleInitialized = true\n    } catch (error) {\n      console.error('Fehler bei der Initialisierung des Feature-Toggle-Managers:', error)\n      \n      // Fallback - einfaches HTML einfügen\n      mountElement.innerHTML = `\n        <div class=\"error-container p-4 border border-red-300 bg-red-50 rounded mt-4\">\n          <h3 class=\"text-red-700 font-medium mb-2\">Fehler bei der Initialisierung</h3>\n          <p class=\"text-red-600\">Der Feature-Toggle-Manager konnte nicht initialisiert werden.</p>\n          <p class=\"text-sm text-red-500 mt-2\">Fehlermeldung: ${error.message}</p>\n        </div>\n        <div class=\"fallback-container mt-4\">\n          <p class=\"mb-4\">Verwenden Sie die folgenden Links, um zwischen den UI-Versionen zu wechseln:</p>\n          <div class=\"flex gap-4\">\n            <button class=\"nscale-btn-primary\" onclick=\"localStorage.setItem('useNewUI', 'true'); window.location.reload();\">\n              Vue.js-UI aktivieren\n            </button>\n            <button class=\"nscale-btn-secondary\" onclick=\"localStorage.setItem('useNewUI', 'false'); window.location.reload();\">\n              Klassische UI aktivieren\n            </button>\n          </div>\n        </div>\n      `\n    }\n  } else {\n    console.warn('Kein Mounting-Element für Feature-Toggle-Manager gefunden (#feature-toggle-container)')\n  }\n})"],"names":["featureStore","useFeatureToggleStore","enableVueUI","enableClassicUI","toggleFeature","feature","value","toggleDevMode","enableAllFeatures","disableAllFeatures","onMounted","mountElement","app","createApp","FeatureToggleManager","pinia","createPinia","error"],"mappings":"8nDA6NA,MAAMA,EAAeC,EAAqB,EAGpCC,EAAc,IAAM,CACxBF,EAAa,YAAY,EAAI,CAC/B,EAGMG,EAAkB,IAAM,CAC5BH,EAAa,YAAY,EAAK,CAChC,EAGMI,EAAgB,CAACC,EAASC,IAAU,CACxCN,EAAa,cAAcK,EAASC,CAAK,EAGzC,WAAW,IAAM,CACf,OAAO,SAAS,QACjB,EAAE,GAAG,CACR,EAGMC,EAAiBD,GAAU,CAC/BN,EAAa,cAAcM,CAAK,CAClC,EAGME,EAAoB,IAAM,CAC9BR,EAAa,kBAAiB,EAG9B,WAAW,IAAM,CACf,OAAO,SAAS,QACjB,EAAE,GAAG,CACR,EAGMS,EAAqB,IAAM,CAC/BT,EAAa,mBAAkB,EAG/B,WAAW,IAAM,CACf,OAAO,SAAS,QACjB,EAAE,GAAG,CACR,EAGA,OAAAU,EAAU,IAAM,CACd,QAAQ,IAAI,sCAAsC,CACpD,CAAC,m3JCvQD,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMC,EAAe,SAAS,eAAe,0BAA0B,EAEvE,GAAIA,EACF,GAAI,CACF,QAAQ,IAAI,8CAA8C,EAG1D,MAAMC,EAAMC,EAAUC,EAAoB,EAGpCC,EAAQC,EAAa,EAC3BJ,EAAI,IAAIG,CAAK,EAGQd,EAAuB,EAC/B,mBAAoB,EAGjCW,EAAI,MAAM,2BAA2B,EAErC,QAAQ,IAAI,kDAAkD,EAG9D,OAAO,4BAA8B,EACtC,OAAQK,EAAO,CACd,QAAQ,MAAM,8DAA+DA,CAAK,EAGlFN,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA,gEAIiCM,EAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAcxE,MAED,QAAQ,KAAK,uFAAuF,CAExG,CAAC"}