<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Router Debug</title>
</head>
<body>
    <h1>Vue Router Debug</h1>
    
    <div id="debug-info" style="padding: 20px; background: #f0f0f0; margin: 20px;">
        <h2>Current Route Info:</h2>
        <pre id="route-info">Loading...</pre>
        
        <h2>Router Configuration:</h2>
        <pre id="router-config">Loading...</pre>
        
        <h2>Available Routes:</h2>
        <pre id="routes-list">Loading...</pre>
    </div>

    <script type="module">
        // Wait for app to be ready
        setTimeout(() => {
            const app = window.app;
            if (!app) {
                document.getElementById('route-info').textContent = 'App not found';
                return;
            }
            
            const router = app.config.globalProperties.$router;
            const route = app.config.globalProperties.$route;
            
            if (!router) {
                document.getElementById('route-info').textContent = 'Router not found';
                return;
            }
            
            // Current route info
            document.getElementById('route-info').textContent = JSON.stringify({
                path: route?.path,
                name: route?.name,
                params: route?.params,
                query: route?.query,
                fullPath: route?.fullPath,
                matched: route?.matched?.map(r => r.path)
            }, null, 2);
            
            // Router config
            document.getElementById('router-config').textContent = JSON.stringify({
                mode: router.options?.history?.base,
                currentRoute: router.currentRoute.value?.path,
                isReady: router.isReady()
            }, null, 2);
            
            // Available routes
            const routes = router.getRoutes();
            document.getElementById('routes-list').textContent = JSON.stringify(
                routes.map(r => ({
                    path: r.path,
                    name: r.name,
                    component: r.components?.default?.name || 'Unknown',
                    meta: r.meta
                })), 
                null, 
                2
            );
            
            // Test navigation
            console.log('Testing router navigation to /chat...');
            router.push('/chat').then(() => {
                console.log('Navigation successful');
            }).catch(err => {
                console.error('Navigation failed:', err);
            });
            
        }, 2000);
    </script>
</body>
</html>