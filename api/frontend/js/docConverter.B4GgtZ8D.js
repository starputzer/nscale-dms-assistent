import{r as e,p as s,q as a,s as t,u as l,v as n,x as o,y as r,z as c,A as u,F as d,B as i,C as v,l as p}from"./chunks/vendor-vue-D3L_ePxu.js";import{c as m}from"./chunks/vendor-pinia-DzTZc5iZ.js";import{_ as g}from"./chunks/components-LKWq85iN.js";import"./chunks/vendor-BRQMajHQ.js";const h={class:"app-header"},k={class:"theme-toggle"},f={key:0},y={key:1},b={class:"upload-section"},C={key:0},x={key:1,class:"upload-progress"},D={class:"progress-bar"},w={key:0,class:"documents-section"},I={class:"documents-list"},_={class:"doc-icon"},z={key:0},j={key:1},A={key:2},$={key:3},E={class:"doc-info"},F={class:"doc-name"},H={class:"doc-status"},T={key:0,class:"doc-progress"},B={class:"progress-bar"},M={class:"doc-actions"},S=["onClick"],U=["onClick"],q=g({__name:"DocConverterApp",setup(p){const m=e(!1),g=e(!1),q=e(!1),V=e(0),W=e(""),G=e(null),J=e([]),K=e=>{switch(e){case"uploaded":return"Hochgeladen";case"processing":return"Wird verarbeitet...";case"completed":return"Fertiggestellt";case"error":return"Fehler";default:return"Unbekannt"}},L=()=>{m.value=!m.value,localStorage.setItem("docConverterTheme",m.value?"dark":"light")},N=()=>{G.value.click()},O=e=>{const s=e.target.files;s.length>0&&Q(s)},P=e=>{g.value=!1;const s=e.dataTransfer.files;s.length>0&&Q(s)},Q=e=>{q.value=!0,V.value=0,W.value=`Verarbeite ${e.length} Dateien...`,Array.from(e).forEach((e=>{J.value.push({name:e.name,size:e.size,type:e.type,status:"uploaded",progress:0})}));const s=e.length;let a=0;const t=l=>{if(l>=s)return q.value=!1,void(W.value="Upload abgeschlossen");const n=e[l],o=J.value.findIndex((e=>e.name===n.name));if(-1!==o){J.value[o].status="processing";let e=0;const n=setInterval((()=>{e+=5,J.value[o].progress=e,e>=100&&(clearInterval(n),J.value[o].status="completed",J.value[o].progress=100,a++,V.value=Math.floor(a/s*100),W.value=`${a}/${s} Dateien verarbeitet`,t(l+1))}),200)}else t(l+1)};t(0)},R=()=>{q.value=!1,V.value=0,W.value=""};return s((()=>{const e=localStorage.getItem("docConverterTheme");m.value=e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches})),(e,s)=>(v(),a("div",{class:o(["doc-converter-app",{dark:m.value}])},[t("div",h,[s[2]||(s[2]=t("h1",null,"nscale Dokumentenkonverter",-1)),t("div",k,[t("button",{onClick:L,class:"theme-btn"},[m.value?(v(),a("span",f,"☀️")):(v(),a("span",y,"🌙"))])])]),t("div",b,[t("div",{class:o(["upload-zone",{"drag-active":g.value}]),onDragover:s[0]||(s[0]=n((e=>g.value=!0),["prevent"])),onDragleave:s[1]||(s[1]=n((e=>g.value=!1),["prevent"])),onDrop:n(P,["prevent"])},[q.value?(v(),a("div",x,[t("div",D,[t("div",{class:"progress-fill",style:c({width:V.value+"%"})},null,4)]),t("p",null,u(W.value),1),t("button",{onClick:R,class:"cancel-btn"},"Abbrechen")])):(v(),a("div",C,[s[4]||(s[4]=t("i",{class:"upload-icon"},"📄",-1)),t("p",null,[s[3]||(s[3]=r(" Dateien hierher ziehen oder ")),t("span",{class:"browse-text",onClick:N},"durchsuchen")]),t("input",{type:"file",ref_key:"fileInput",ref:G,onChange:O,multiple:"",class:"hidden-input",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.rtf,.csv"},null,544)]))],34)]),J.value.length>0?(v(),a("div",w,[s[5]||(s[5]=t("h2",null,"Dokumente",-1)),t("div",I,[(v(!0),a(d,null,i(J.value,((e,s)=>(v(),a("div",{key:s,class:o(["document-item",{processing:"processing"===e.status}])},[t("div",_,["completed"===e.status?(v(),a("span",z,"✅")):"processing"===e.status?(v(),a("span",j,"⏳")):"error"===e.status?(v(),a("span",A,"❌")):(v(),a("span",$,"📄"))]),t("div",E,[t("div",F,u(e.name),1),t("div",H,u(K(e.status)),1),e.progress?(v(),a("div",T,[t("div",B,[t("div",{class:"progress-fill",style:c({width:e.progress+"%"})},null,4)])])):l("",!0)]),t("div",M,["completed"===e.status?(v(),a("button",{key:0,onClick:s=>(e=>{alert(`Download von "${e.name}" gestartet`)})(e),class:"action-btn download-btn"}," Herunterladen ",8,S)):l("",!0),t("button",{onClick:e=>(e=>{J.value.splice(e,1)})(s),class:"action-btn remove-btn"}," Entfernen ",8,U)])],2)))),128))])])):l("",!0)],2))}},[["__scopeId","data-v-e7d3f20d"]]);if(document.getElementById("doc-converter-mount")){const e=p(q),s=m();e.use(s),e.config.errorHandler=(e,s,a)=>{},e.mount("#doc-converter-mount")}export{q as default};
